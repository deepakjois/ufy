% This is ufy’s format file. It is a truncated version of the Plain TeX format
% file written by Donald Knuth. We need this because ufy isn’t sophisticated
% enough yet to replicate some of the settings and node building routines in
% this file.
%
% Eventually, this file should be less than 10 lines, to do the bare minimum
% initialization and then let Lua code take over from that point.

\catcode`\{=1 % left brace is begin-group character
\catcode`\}=2 % right brace is end-group character

% Little trick to directly execute Lua file passed in as argument
\expandafter\everyjob\expandafter{\the\everyjob\directlua{ufy.init()}\directlua{dofile("\jobname.lua")}\end}

\def\fmtname{ufy}\def\fmtversion{0.0.1} % identifies the current format
\dump
